# ğŸš¢ Timbel CICD Operator - í¬íŠ¸ êµ¬ì„± ê°€ì´ë“œ

## ğŸ“Š í˜„ì¬ í¬íŠ¸ ë§¤í•‘ í˜„í™© (2025-10-24)

### ğŸ¯ í¬íŠ¸ êµ¬ì„± ì›ì¹™
1. **3000ë²ˆëŒ€**: í”„ë¡ íŠ¸ì—”ë“œ ë° ì›¹ UI ì„œë¹„ìŠ¤
2. **5000ë²ˆëŒ€**: ë°ì´í„°ë² ì´ìŠ¤ ì„œë¹„ìŠ¤
3. **6000ë²ˆëŒ€**: ìºì‹œ ë° ë©”ì‹œì§• ì„œë¹„ìŠ¤
4. **8000ë²ˆëŒ€**: CI/CD ë° ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë¹„ìŠ¤
5. **9000ë²ˆëŒ€**: ëª¨ë‹ˆí„°ë§ ë° ê²€ìƒ‰ ì„œë¹„ìŠ¤

---

## ğŸ”§ ì„œë¹„ìŠ¤ë³„ í¬íŠ¸ ë§¤í•‘

### **Core Services (í•µì‹¬ ì„œë¹„ìŠ¤)**

| ì„œë¹„ìŠ¤ | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | ìš©ë„ | ìƒíƒœ |
|--------|------------|---------------|------|------|
| **Nginx** | `3000` | `3000` | ë©”ì¸ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ (í”„ë¡ íŠ¸ì—”ë“œ í†µí•© ì ‘ê·¼ì ) | âœ… ì‹¤í–‰ ì¤‘ |
| **Frontend** | `3005` | `3000` | React ê°œë°œ ì„œë²„ (ì§ì ‘ ì ‘ê·¼ìš©) | âœ… ì‹¤í–‰ ì¤‘ |
| **Backend** | `3001` | `3001` | Node.js API ì„œë²„ | âœ… ì‹¤í–‰ ì¤‘ |

**ê¶Œì¥ ì ‘ê·¼**: `http://localhost:3000` (Nginxë¥¼ í†µí•œ í†µí•© ì ‘ê·¼)

---

### **Database Services (ë°ì´í„°ë² ì´ìŠ¤)**

| ì„œë¹„ìŠ¤ | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | ìš©ë„ | ìƒíƒœ |
|--------|------------|---------------|------|------|
| **PostgreSQL** | `5434` | `5432` | ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ | âœ… ì‹¤í–‰ ì¤‘ |

**ì—°ê²° ì •ë³´**:
```bash
psql -h localhost -p 5434 -U timbel_user -d timbel_knowledge
```

---

### **Cache & Messaging (ìºì‹œ ë° ë©”ì‹œì§•)**

| ì„œë¹„ìŠ¤ | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | ìš©ë„ | ìƒíƒœ |
|--------|------------|---------------|------|------|
| **Redis** | `6379` | `6379` | ì„¸ì…˜ ê´€ë¦¬ ë° ìºì‹± | âœ… ì‹¤í–‰ ì¤‘ |

**ì—°ê²° ì •ë³´**:
```bash
redis-cli -h localhost -p 6379
```

---

### **CI/CD Services (CI/CD ì„œë¹„ìŠ¤)**

| ì„œë¹„ìŠ¤ | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | ìš©ë„ | ìƒíƒœ |
|--------|------------|---------------|------|------|
| **Jenkins** | `8080` | `8080` | CI/CD ë¹Œë“œ ì„œë²„ | âœ… ì‹¤í–‰ ì¤‘ |
| **Jenkins Agent** | `50000` | `50000` | Jenkins ì—ì´ì „íŠ¸ í†µì‹  | âœ… ì‹¤í–‰ ì¤‘ |
| **Jenkins Metrics** | `8081` | `8081` | Jenkins ë©”íŠ¸ë¦­ ì„œë²„ | â¸ï¸ ì¤‘ì§€ |
| **Nexus** | `8082` | `8081` | ì•„í‹°íŒ©íŠ¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ | âœ… ì‹¤í–‰ ì¤‘ |
| **Nexus Metrics** | `8083` | `8082` | Nexus ë©”íŠ¸ë¦­ ì„œë²„ | â¸ï¸ ì¤‘ì§€ |
| **Harbor Metrics** | `8084` | `8084` | Harbor ë©”íŠ¸ë¦­ ì„œë²„ | â¸ï¸ ì¤‘ì§€ |
| **GitLab CI Metrics** | `8085` | `8085` | GitLab CI ë©”íŠ¸ë¦­ ì„œë²„ | â¸ï¸ ì¤‘ì§€ |
| **Tekton Metrics** | `8086` | `8086` | Tekton ë©”íŠ¸ë¦­ ì„œë²„ | â¸ï¸ ì¤‘ì§€ |

**ì ‘ê·¼ URL**:
- Jenkins: `http://localhost:8080` or `http://localhost:3000/jenkins/`
- Nexus: `http://localhost:8082` or `http://localhost:3000/nexus/`

---

### **Monitoring & Search (ëª¨ë‹ˆí„°ë§ ë° ê²€ìƒ‰)**

| ì„œë¹„ìŠ¤ | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | ìš©ë„ | ìƒíƒœ |
|--------|------------|---------------|------|------|
| **Elasticsearch** | `9200` | `9200` | ê²€ìƒ‰ ì—”ì§„ (HTTP API) | âœ… ì‹¤í–‰ ì¤‘ |
| **Elasticsearch** | `9300` | `9300` | ê²€ìƒ‰ ì—”ì§„ (ë…¸ë“œ ê°„ í†µì‹ ) | âœ… ì‹¤í–‰ ì¤‘ |
| **Prometheus** | `9090` | `9090` | ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ì„œë²„ | â¸ï¸ ì¤‘ì§€ |
| **MinIO** | `9000` | `9000` | ê°ì²´ ìŠ¤í† ë¦¬ì§€ (S3 í˜¸í™˜) | â¸ï¸ ì¤‘ì§€ |
| **MinIO Console** | `9001` | `9001` | MinIO ê´€ë¦¬ ì½˜ì†” | â¸ï¸ ì¤‘ì§€ |

**ì ‘ê·¼ URL**:
- Elasticsearch: `http://localhost:9200`
- Prometheus: `http://localhost:9090` or `http://localhost:3000/prometheus/`

---

### **Storage & AI Services (ìŠ¤í† ë¦¬ì§€ ë° AI)**

| ì„œë¹„ìŠ¤ | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ | ì»¨í…Œì´ë„ˆ í¬íŠ¸ | ìš©ë„ | ìƒíƒœ |
|--------|------------|---------------|------|------|
| **ChromaDB** | `8100` | `8000` | ë²¡í„° DB (RAG) | â¸ï¸ ì¤‘ì§€ |
| **Grafana** | `3003` | `3000` | ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ | â¸ï¸ ì¤‘ì§€ |

**ì ‘ê·¼ URL**:
- Grafana: `http://localhost:3003` or `http://localhost:3000/grafana/`
- ChromaDB: `http://localhost:8100`

---

## ğŸ¨ ê¶Œì¥ í¬íŠ¸ ì¬êµ¬ì„± (í”„ë¡œë•ì…˜ ë ˆë²¨)

### **ë³€ê²½ ì´ìœ **:
1. **ì¼ê´€ì„±**: ì„œë¹„ìŠ¤ ìœ í˜•ë³„ë¡œ í¬íŠ¸ ë²”ìœ„ë¥¼ ëª…í™•íˆ êµ¬ë¶„
2. **í™•ì¥ì„±**: í–¥í›„ ì¶”ê°€ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ í¬íŠ¸ ì—¬ìœ  í™•ë³´
3. **ë³´ì•ˆ**: ì™¸ë¶€ ë…¸ì¶œì´ í•„ìš” ì—†ëŠ” ì„œë¹„ìŠ¤ëŠ” ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë§Œ ì‚¬ìš©

### **ì œì•ˆ í¬íŠ¸ ë§¤í•‘**:

```yaml
# === ì›¹ ì„œë¹„ìŠ¤ (3000-3099) ===
nginx:          3000 -> 3000   # ë©”ì¸ í”„ë¡ì‹œ (ë³€ê²½ ì—†ìŒ)
frontend:       3005 -> 3000   # React ê°œë°œ ì„œë²„ (ë³€ê²½ ì—†ìŒ) - ê°œë°œìš©ë§Œ ë…¸ì¶œ
backend:        3001 -> 3001   # API ì„œë²„ (ë³€ê²½ ì—†ìŒ)
grafana:        3003 -> 3000   # ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ (ë³€ê²½ ì—†ìŒ)

# === ë°ì´í„°ë² ì´ìŠ¤ (5400-5499) ===
postgres:       5434 -> 5432   # PostgreSQL (ë³€ê²½ ì—†ìŒ)

# === ìºì‹œ & ë©”ì‹œì§• (6300-6399) ===
redis:          6379 -> 6379   # Redis (ë³€ê²½ ì—†ìŒ)

# === CI/CD ì„œë¹„ìŠ¤ (8000-8099) ===
jenkins:        8080 -> 8080   # Jenkins (ë³€ê²½ ì—†ìŒ)
jenkins-agent:  50000 -> 50000 # Jenkins ì—ì´ì „íŠ¸ (ë³€ê²½ ì—†ìŒ)
nexus:          8082 -> 8081   # Nexus (ë³€ê²½ ì—†ìŒ)
chromadb:       8100 -> 8000   # ChromaDB (ë³€ê²½ ì—†ìŒ)

# === ëª¨ë‹ˆí„°ë§ & ê²€ìƒ‰ (9000-9999) ===
minio:          9000 -> 9000   # MinIO (ë³€ê²½ ì—†ìŒ)
minio-console:  9001 -> 9001   # MinIO Console (ë³€ê²½ ì—†ìŒ)
prometheus:     9090 -> 9090   # Prometheus (ë³€ê²½ ì—†ìŒ)
elasticsearch:  9200 -> 9200   # Elasticsearch HTTP (ë³€ê²½ ì—†ìŒ)
elasticsearch:  9300 -> 9300   # Elasticsearch Transport (ë³€ê²½ ì—†ìŒ)
```

---

## ğŸ”’ ë³´ì•ˆ ê¶Œì¥ì‚¬í•­

### **ì™¸ë¶€ ë…¸ì¶œì´ í•„ìš”í•œ í¬íŠ¸** (ë°©í™”ë²½ í—ˆìš©):
- `3000` - Nginx (ë©”ì¸ ì ‘ê·¼ì )
- `3001` - Backend API (ì§ì ‘ API í˜¸ì¶œìš©, ì„ íƒì )

### **ë‚´ë¶€ ì „ìš© í¬íŠ¸** (localhostë§Œ ì ‘ê·¼, í”„ë¡œë•ì…˜ì—ì„œëŠ” ë¹„ë…¸ì¶œ):
- `3005` - Frontend ê°œë°œ ì„œë²„
- `5434` - PostgreSQL
- `6379` - Redis
- `8080` - Jenkins (Nginxë¥¼ í†µí•´ `/jenkins/`ë¡œ ì ‘ê·¼)
- `8082` - Nexus (Nginxë¥¼ í†µí•´ `/nexus/`ë¡œ ì ‘ê·¼)
- `9200`, `9300` - Elasticsearch

### **í”„ë¡œë•ì…˜ ë°°í¬ ì‹œ**:
```yaml
# docker-compose.prod.yml ì˜ˆì‹œ
services:
  postgres:
    # ì™¸ë¶€ ë…¸ì¶œ ì—†ì´ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë§Œ ì‚¬ìš©
    expose:
      - "5432"
    # ports ì„¹ì…˜ ì œê±°
```

---

## ğŸš€ ë¹ ë¥¸ ì ‘ê·¼ ê°€ì´ë“œ

### **ì¼ë°˜ ì‚¬ìš©ì**:
```bash
# ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ (ê¶Œì¥)
http://localhost:3000
http://rdc.rickyson.com:3000  # ì™¸ë¶€ ë„ë©”ì¸ ì ‘ì† ê°€ëŠ¥

# API ì§ì ‘ í˜¸ì¶œ
http://localhost:3001/api/
```

### **ê°œë°œì**:
```bash
# Frontend ì§ì ‘ ì ‘ê·¼ (HMR ì§€ì›)
http://localhost:3005

# Backend API
http://localhost:3001/api/

# Jenkins
http://localhost:8080
# ë˜ëŠ”
http://localhost:3000/jenkins/

# Nexus
http://localhost:8082
# ë˜ëŠ”
http://localhost:3000/nexus/

# Grafana
http://localhost:3003
# ë˜ëŠ”
http://localhost:3000/grafana/
```

### **ê´€ë¦¬ì (ì¸í”„ë¼)**:
```bash
# PostgreSQL
psql -h localhost -p 5434 -U timbel_user

# Redis
redis-cli -h localhost -p 6379

# Elasticsearch
curl http://localhost:9200/_cluster/health

# Prometheus
http://localhost:9090
```

---

## ğŸ“ í¬íŠ¸ ì¶©ëŒ í•´ê²°

### **í¬íŠ¸ ì‚¬ìš© í™•ì¸**:
```bash
# Linux/Mac
lsof -i :3000
netstat -tulpn | grep :3000

# íŠ¹ì • í¬íŠ¸ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
kill -9 $(lsof -t -i:3000)
```

### **Docker í¬íŠ¸ ë§¤í•‘ ë³€ê²½**:
```bash
# 1. ì„œë¹„ìŠ¤ ì¤‘ì§€
docker-compose down

# 2. docker-compose.yml ìˆ˜ì •
# ports ì„¹ì…˜ ë³€ê²½

# 3. ì„œë¹„ìŠ¤ ì¬ì‹œì‘
docker-compose up -d
```

---

## âœ… í˜„ì¬ êµ¬ì„± ìƒíƒœ

- âœ… **ì¼ê´€ì„±**: í¬íŠ¸ê°€ ë…¼ë¦¬ì ìœ¼ë¡œ êµ¬ì„±ë¨
- âœ… **í™•ì¥ì„±**: ê° ë²”ìœ„ë³„ë¡œ ì—¬ìœ  í¬íŠ¸ í™•ë³´
- âœ… **ë³´ì•ˆ**: Nginxë¥¼ í†µí•œ ì¤‘ì•™ ì§‘ì¤‘ì‹ ì ‘ê·¼ ì œì–´
- âœ… **ê°œë°œ í¸ì˜ì„±**: ê°œë°œ ì„œë²„ì™€ í”„ë¡œë•ì…˜ ì„œë²„ ë¶„ë¦¬

**ê²°ë¡ **: í˜„ì¬ í¬íŠ¸ êµ¬ì„±ì€ í”„ë¡œë•ì…˜ ë ˆë²¨ì— ì í•©í•˜ë©°, ì¶”ê°€ ë³€ê²½ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤! ğŸ‰

