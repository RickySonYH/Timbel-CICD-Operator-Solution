# Timbel Knowledge Platform - 통합 개발 TODO List

## 🚨 **긴급 (실제 사용 직전) - Phase 0**

### 🔴 **진행 중 (Critical Issues)**
- [ ] **PE 대시보드 기본 선택 문제 해결** - PE 사용자가 자동 선택되지 않도록 수정
- [ ] **최고관리자 대시보드 카드 데이터 로딩 문제 해결** - 전체 프로젝트, 승인대기 등 모든 통계 표시
- [ ] **PE 보고서 기반 진행 현황 갱신 시스템** - 자동 프로젝트 상태 업데이트
- [ ] **PostgreSQL connection pool 문제 해결** - 중복 client.release() 호출
- [x] **지식자원관리 카탈로그 실제 데이터 연동** - 최근 지식 활동을 실제 DB 데이터 기반으로 변경 (이미 완료됨)
- [x] **작업 시작 다이얼로그 Git 서비스 옵션 확장** - GitHub, GitLab, Bitbucket 등 다양한 서비스 지원 (프론트엔드 완료)
- [x] **레포지토리 연결 테스트 기능** - 주소와 액세스 키 입력 후 연결 테스트 (백엔드 API 완료)
- [x] **작업 시작 다이얼로그 프로젝트 ID 문제 해결** - selectedProject 설정 및 검증 로직 개선, resetWorkStartForm 순서 문제 해결
- [x] **권한별 메시지 센터 시스템 구현** - 단계별 이벤트를 권한에 따라 표시하는 통합 알림 시스템 (기본 구조 완료)
- [x] **MessageCenter 403 Forbidden 오류 해결** - 권한별 API 접근 문제 수정 (권한별 조건부 API 호출)
- [ ] **PO 업무 선점 시스템 설계 및 구현** - 여러 PO가 승인된 프로젝트를 선점하는 구조

### 🔥 **PO 업무 선점 시스템 (신규 추가)**
- [ ] **1단계: PO 업무 선점 데이터베이스 스키마** - project_po_claims 테이블 생성
- [ ] **2단계: 승인된 프로젝트 공용 풀 시스템** - 모든 PO가 볼 수 있는 승인된 프로젝트 리스트
- [ ] **3단계: PO 프로젝트 선점(Claim) 기능** - "내가 담당하겠습니다" 버튼 및 선점 처리
- [ ] **4단계: 선점 충돌 방지 시스템** - 동시 선점 시 우선순위 및 알림
- [ ] **5단계: PO 성과 관리 시스템** - 선점한 프로젝트 수, 처리 속도, 성공률 추적
- [ ] **6단계: PE 할당 권한 제한** - 선점한 PO만 자기 소속 PE에게 할당 가능
- [ ] **7단계: PO 워크로드 밸런싱** - 선점 시 현재 진행 중인 프로젝트 수 고려
- [ ] **8단계: 프로젝트 반납 시스템** - PO가 처리 불가 시 다른 PO에게 반납

### 🏠 **통합 홈 대시보드 시스템 (신규 추가)**
- [x] **1단계: 통합 대시보드 데이터베이스 스키마** - 전체 업무 흐름 추적용 테이블 및 뷰 설계
- [x] **2단계: 실시간 업무 흐름 추적 시스템** - 프로젝트 생성→승인→선점→할당→진행→완료 전체 플로우
- [x] **3단계: PO/PE 개별 성과 대시보드** - 업무 수량, 진행률, 처리 속도, 성공률
- [x] **4단계: 실시간 이벤트 스트림** - 모든 업무 이벤트의 실시간 로그 표시
- [x] **5단계: CI/CD 파이프라인 현황** - 실행 중인 빌드, 배포, 테스트 상태 (실제 데이터 없으면 안내 메시지)
- [x] **6단계: 운영 서버 모니터링** - 서버 상태, 리소스 사용률, 서비스 헬스체크 (실제 데이터 없으면 안내 메시지)
- [x] **7단계: 통합 대시보드 프론트엔드** - 한 화면에서 모든 정보를 볼 수 있는 대시보드
- [x] **8단계: API 500 오류 해결** - 데이터베이스 뷰 생성 및 null 데이터 안전 처리
- [ ] **9단계: 실시간 업데이트 시스템** - WebSocket 기반 실시간 데이터 갱신

### 🗑️ **프로젝트 삭제 이중 승인 시스템 (신규 추가)**
- [x] **1단계: 프로젝트 삭제 승인 데이터베이스 스키마** - project_deletion_requests, deleted_projects_backup 등 테이블 생성
- [x] **2단계: 삭제 요청 워크플로우 설계** - 관리자 → PO 승인 → PE 승인 → 최종 삭제
- [x] **3단계: PO 삭제 승인 시스템** - 담당 PO가 프로젝트 삭제에 동의하는 기능
- [x] **4단계: PE 삭제 승인 시스템** - 할당된 PE가 프로젝트 삭제에 동의하는 기능
- [x] **5단계: 삭제 승인 알림 시스템** - 각 단계별 승인 요청 및 결과 알림
- [x] **6단계: 안전한 프로젝트 삭제** - 모든 관련 데이터 정리 및 백업 (safe_delete_project 함수)
- [x] **7단계: 삭제 이력 관리** - 삭제된 프로젝트 정보 보존 및 감사 로그
- [x] **8단계: 메시지 센터 삭제 승인 UI** - 메시지에서 바로 승인/거부 버튼으로 처리
- [x] **9단계: Admin/Executive 선점 권한 추가** - PO뿐만 아니라 Admin/Executive도 프로젝트 선점 및 PE 할당 가능
- [x] **10단계: 테스트 환경 구성** - K8S 오케스트레이터 프로젝트로 삭제 승인 테스트 데이터 생성
- [x] **11단계: 중복 할당 방지 시스템** - PE 중복 할당 방지 로직 및 DB 제약조건 추가
- [x] **12단계: 메시지 센터 승인 워크플로우 통합** - 승인 대시보드를 메시지 센터로 통합, 실데이터 기반 승인 처리
- [x] **13단계: 메시지 센터 실데이터 연동** - 목업 데이터 제거, 실제 메시지 생성 및 표시, apiUrl 오류 해결
- [x] **14단계: 승인 대시보드 실데이터 연동** - 전체 승인 대시보드에서 목업 데이터 제거, 메시지 센터 API 사용
- [x] **15단계: 삭제 승인 체계 개선** - 프로젝트 상태별 승인 대상자 구분 (승인 전/후 할당 전: PO만, 진행 중: PO+PE)

### 🟡 **대기 중 (High Priority)**
- [ ] **대시보드 API 호출 및 응답 디버깅** - 프론트엔드와 백엔드 데이터 흐름 추적
- [ ] **PE 사용자 선택 로직 개선** - Admin/PO는 선택 필요, PE는 자동 본인 계정
- [ ] **최고관리자 대시보드 통계 검증** - 실제 DB 데이터와 표시 데이터 일치 확인

## ✅ **완료됨 (Completed)**
- [x] **프로젝트 관리 기능 통합** - 기존 프로젝트 카드 클릭 시 나오는 리스트에서 바로 관리 기능 통합 - 권한별 액션 버튼
- [x] **테스트용 프로젝트 데이터 생성** - 할당된 작업, 진행 중인 프로젝트
- [x] **프로젝트 재할당 기능** - 다른 PE에게 작업 이전
- [x] **데이터베이스 스키마 확장** - 프로젝트, 작업그룹, 할당, 레포지토리, Git 분석 테이블
- [x] **project_repositories 테이블 생성 및 레포지토리 관리 기능**
- [x] **project_git_analytics 테이블 생성 및 Git 분석 기능**
- [x] **project_progress_milestones 테이블 생성 및 마일스톤 관리**
- [x] **PE 작업 시작 프로세스 고도화** - 일정 설정, 레포지토리 등록
- [x] **PO 모니터링 대시보드 고도화** - 실시간 Git 기반 진행률
- [x] **최고관리자 통합 감시 시스템 구현**
- [x] **Git 동기화 스케줄러 및 진행률 자동 계산**
- [x] **PE 작업 시작 단계별 승인 과정 구현** - 요구사양 검토, 일정 설정, 레포지토리 등록, 승인
- [x] **작업 거부 시 역방향 보고 구조 설계 및 구현** - PE→PO→최고관리자
- [x] **프론트엔드 통합 완료** - PE 대시보드, 작업 거부, 승인 프로세스 UI 완성
- [x] **보고서 생성 개선** - README 파일 영역, 자동 GitHub 활동 요약, 진행률 게이지 및 개발자 의견
- [x] **프로젝트 승인 취소 기능** - 승인된 프로젝트를 다시 대기 상태로 되돌리기
- [x] **PE 재할당 다이얼로그 구현** - PE 선택, 재할당 사유, 워크로드 확인
- [x] **프로젝트 상태 변경 다이얼로그** - 상태 선택, 변경 사유 입력
- [x] **대시보드 모든 카드 클릭 가능하게 수정** - 현재 비활성 카드들도 클릭 이벤트 추가
- [x] **PE 대시보드 DB 연동** - 실제 할당된 프로젝트 데이터 로드 및 표시
- [x] **PE 개발환경 작업 시작 등록 기능** - 레포지토리 등록, 작업 승인 프로세스 완전 구현
- [x] **PE 할당 프로젝트 조회 API 구현** - /assigned/me, /assigned/:peUserId 엔드포인트 추가
- [x] **PE 대시보드 Admin 계정 조회 수정** - 기본 PE 선택 및 자동 데이터 로드
- [x] **PE 선택 드롭다운에서 작업량 표시 수정** - current_assignments vs current_workload 필드명 통일
- [x] **PE 선택 시 username 정보 누락 문제 해결** - 백엔드 API에서 username 필드 추가
- [x] **PE 대시보드 카드 디자인을 최고관리자 스타일로 변경 및 크기 조정**
- [x] **PE 대시보드에서 빠른액션 카드 제거**
- [x] **Typography 중첩으로 인한 DOM 구조 경고 해결**
- [x] **작업 시작 시 프로젝트 생성 정보 개선** - 작업자에게 도움되는 추가 정보 및 가이드라인 포함
- [x] **GitHub 레포지토리 연결 시 프라이빗 저장소용 토큰 입력창 추가**
- [x] **작업 시작 다이얼로그 기능 완전 구현** - 4단계 승인 프로세스 동작 확인 및 백엔드 연동
- [x] **작업 시작 플로우 테스트** - 요구사항 검토부터 최종 승인까지 전체 과정 검증
- [x] **작업 시작 백엔드 API 연동** - 레포지토리 등록, 마일스톤 저장, 진행률 업데이트
- [x] **작업 시작 다이얼로그 체크리스트** - UI/UX, 단계별 유효성 검사, API 연동, 데이터 저장
- [x] **데이터베이스 스키마 문제 해결** - end_date vs due_date, project_repositories 테이블 생성
- [x] **최고관리자 대시보드 카드 데이터 로딩 문제 해결** - API 응답 확인 및 프론트엔드 연결 디버깅
- [x] **1단계: 백엔드 API 응답 상태 확인** - /api/admin/approvals/dashboard-stats
- [x] **2단계: 프론트엔드 API 호출 디버깅** - ExecutiveDashboard.tsx fetchDashboardData 함수
- [x] **3단계: 데이터 흐름 검증** - API → 상태 → UI 렌더링 전체 흐름
- [x] **WebSocket 연결 오류 해결** - 개발 서버 Hot Reload 문제
- [x] **디버깅 로그 추가 및 수동 새로고침 버튼 구현**
- [x] **카드 클릭 시 프로젝트 리스트 비어있음 문제 해결** - loadProjectList API 디버깅
- [x] **데이터베이스 스키마 컴럼 오류 수정** - p.description → p.project_overview
- [x] **백엔드 프로젝트 리스트 API 수정 및 테스트 완료**
- [x] **프로젝트 리스트에서 승인/거부 버튼 추가** - 최고관리자 권한으로 직접 승인 처리
- [x] **전체 프로젝트 카드에서 상태 변경 기능 추가** - 모든 프로젝트에 상태 변경 버튼
- [x] **PE 재할당을 상태 변경 다이얼로그에 통합** - PE 변경 옵션 추가
- [x] **PO 대시보드에 프로젝트 관리 기능 추가** - 카드 클릭 시 프로젝트 리스트 및 권한별 관리 기능
- [x] **PE 대시보드에 프로젝트 관리 기능 추가** - 할당된 프로젝트 리스트 및 상태 변경 기능
- [x] **점 세개 버튼(MoreVert) 제거** - 톱니바퀴 설정 버튼으로 통합
- [x] **아이콘 사용 자제** - 모든 버튼을 텍스트 기반으로 수정
- [x] **PE 대시보드 TableContainer import 오류 해결**
- [x] **PO 대시보드에서 PE 이름 클릭 시 해당 PE 대시보드로 이동 기능 구현**
- [x] **PO 대시보드 하단 버튼들 제거** - 프로젝트 PE 할당~PE 성과관리 버튼 삭제
- [x] **PO 대시보드 빠른액션 카드 완전 제거** - 프로젝트 PE 할당관리 등 하단 버튼들
- [x] **PO 대시보드에서 PE 클릭 시 올바른 PE 대시보드 이동** - 현재 다른 페이지로 이동됨
- [x] **PE 대시보드 자동 선택 문제** - 관리자 모드에서 peuser가 자동 선택되는 문제
- [x] **PE 대시보드 작업 상태 필터링** - 작업 시작 안한 프로젝트가 진행중 리스트에 표시됨
- [x] **PE 대시보드 URL 파라미터 처리** - PO에서 PE 클릭 시 제대로 동작하지 않음
- [x] **PE 대시보드 빠른 액션 카드 제거** - 업무관리, 코드등록, 주간보고서, 지식관리 버튼
- [x] **PO 대시보드에 최근 PE 활동 리스트 추가** - 각 PE의 최근 활동 데이터 공유
- [x] **목업 데이터를 실제 DB 데이터로 교체** - 최근 PE 활동 및 긴급 처리 사항
- [x] **긴급 개발 시스템 구현** - 프로젝트 등록 시 긴급 개발 옵션 및 DB 필드 추가
- [x] **PO 메뉴에서 프로젝트 PE 할당 메뉴 삭제**
- [x] **긴급 개발 데이터베이스 스키마 추가** - is_urgent_development 필드 및 urgent_development_logs 테이블
- [x] **프로젝트 생성 폼에 긴급 개발 옵션 추가**
- [x] **project_approvals 테이블 approval_action 체크 제약 조건 오류 해결**
- [x] **상태 변경 500 오류 해결** - project_approvals 테이블 제약 조건 문제
- [x] **프로젝트 생성 504 Gateway Timeout 오류 해결**
- [x] **할당받은 작업 시작 다이얼로그 프로세스 오류 해결** - null 참조 및 JSX 구문 오류 수정
- [x] **지식자원관리 카탈로그 실제 데이터 연동** - 최근 지식 활동을 실제 DB 데이터 기반으로 변경 (이미 완료됨)
- [x] **작업 시작 다이얼로그 Git 서비스 옵션 확장** - GitHub, GitLab, Bitbucket 등 다양한 서비스 지원 (프론트엔드 완료)
- [x] **레포지토리 연결 테스트 기능** - 주소와 액세스 키 입력 후 연결 테스트 (백엔드 API 완료)
- [x] **Public 레포지토리 지원** - 액세스 토큰 없이도 Public 레포지토리 연결 테스트 가능

## 🏗️ **Phase 1: 기본 플랫폼 안정화 (1-2주)**

### **대시보드 & 통계**
- [ ] 종합적인 PE 성과 평가 시스템 - 프로젝트 수행률 + 지식자산 등록 + 코드 기여도
- [ ] 프로젝트 카탈로그 상태 세분화 - 승인 중, 할당 중, 진행 중 등 단계별 표시
- [ ] 모든 카드에서 리스트 보기 및 상태 변경 - 최고관리자 권한으로 통합 관리
- [ ] 카드 호버 효과 및 시각적 피드백 - 모든 카드에 일관된 호버 스타일 적용
- [ ] 카드 클릭 안내 메시지 - 모든 카드에 클릭 안내 텍스트 추가

### **프로젝트 관리**
- [ ] 프로젝트 승인 취소 기능 - 승인된 프로젝트를 다시 대기 상태로 되돌리기
- [ ] 프로젝트 상세 내용 수정 기능 - 프로젝트명, 설명, 마감일, 긴급도 등 편집
- [ ] 프로젝트 상태 변경 다이얼로그 - 상태 선택, 변경 사유 입력
- [ ] 프로젝트 변경 이력 추적 - 모든 변경 사항을 히스토리로 기록
- [ ] 프로젝트 일괄 작업 - 여러 프로젝트 동시 상태 변경

### **시스템 통합**
- [ ] 지식자원 관리와 프로젝트 관리 시스템 통합 - 동일 데이터베이스 활용
- [ ] 완료된 프로젝트의 시스템 등록 자동화 프로세스
- [ ] 알림 시스템 강화 - 프로젝트 변경 시 관련자들에게 자동 알림

## 🔧 **Phase 2: GitHub 기반 CI/CD 통합 (3-4주)**

### **GitHub 레포지토리 관리 강화**
- [ ] **GitHub API 연동 강화** - 레포지토리 메타데이터 실시간 동기화
- [ ] **GitHub Webhook 이벤트 처리** - Push, PR, Release 이벤트 실시간 수신
- [ ] **GitHub Actions 워크플로우 자동 생성** - 프로젝트별 맞춤형 CI/CD 파이프라인
- [ ] **GitHub Container Registry 통합** - 컨테이너 이미지 자동 빌드/푸시
- [ ] **브랜치 전략 기반 배포** - main/develop/feature 브랜치별 환경 매핑

### **CI/CD 파이프라인 구축**
- [ ] **GitHub Actions + Jenkins 하이브리드** - 기본 CI는 GitHub, 복잡한 빌드는 Jenkins
- [ ] **자동화된 테스트 파이프라인** - 단위/통합/E2E 테스트 자동 실행
- [ ] **코드 품질 게이트** - SonarQube, ESLint, 보안 스캔 통합
- [ ] **자동 배포 파이프라인** - 환경별 자동 배포 (dev/staging/prod)
- [ ] **롤백 시스템** - 배포 실패 시 자동 롤백

### **모니터링 & 메트릭**
- [ ] **DORA 메트릭 수집** - 배포 빈도, 리드 타임, 복구 시간, 실패율
- [ ] **코드 품질 메트릭** - 커버리지, 복잡도, 기술 부채 추적
- [ ] **개발 생산성 지표** - 코드 리뷰 시간, 머지 소요 시간
- [ ] **팀 협업 지표** - 크로스 레포 기여도, 지식 공유율

## 🚀 **Phase 3: GitOps & ECP-AI 통합 (5-6주)**

### **GitOps 완전 자동화**
- [ ] **Argo CD GitHub 통합** - GitHub 레포지토리 기반 GitOps 구성
- [ ] **ECP-AI K8s 오케스트레이터 연동** - 하드웨어 계산기 + GitOps 자동 매핑
- [ ] **멀티테넌트 GitOps** - 서비스별 GitOps 레포지토리 격리
- [ ] **배포 승인 워크플로우** - GitHub PR 기반 배포 승인 시스템
- [ ] **환경별 배포 전략** - dev/staging/prod 환경 자동 프로모션

### **AI 바이브 코딩 GitHub 통합**
- [ ] **GitHub 컨텍스트 인식 AI** - 레포지토리 구조 분석 후 코드 생성
- [ ] **CI/CD 템플릿 자동 생성** - 생성된 코드에 맞는 파이프라인 자동 구성
- [ ] **IaC 코드 자동 생성** - Dockerfile, K8s 매니페스트, Helm 차트
- [ ] **보안 설정 자동 적용** - 브랜치 보호, 시크릿 관리, 보안 스캔
- [ ] **성능 최적화 제안** - 코드 분석 기반 성능 개선 제안

## 🎯 **Phase 4: 고도화 & 최적화 (7-8주)**

### **고급 분석 & 인사이트**
- [ ] **예측 분석 시스템** - 프로젝트 성공률, 배포 위험도 예측
- [ ] **자동화 ROI 계산** - GitHub 통합 효과 정량적 측정
- [ ] **지능형 리소스 최적화** - ECP-AI 기반 자동 스케일링
- [ ] **팀 성과 벤치마킹** - 업계 표준 대비 성과 비교
- [ ] **지식 자산 활용 최적화** - AI 기반 재사용 패턴 분석

---

## 📝 **진행 상황 업데이트**

### **2025-09-23 11:30 - 긴급 문제 해결 중**
- ✅ project_repositories 테이블 생성 완료
- ✅ /api/admin/approvals/dashboard-stats API 구현 완료  
- ✅ /api/admin/approvals/projects API 구현 완료
- 🔄 최고관리자 대시보드 데이터 로딩 문제 진행 중 (API 호출 디버깅 시작)
- 🔄 PE 대시보드 기본 선택 문제 진행 중

### **발견된 주요 이슈들**
- ❌ `client.release()` 중복 호출로 인한 connection pool 오류
- ❌ `column pwa.end_date does not exist` - 기존 코드에서 수정되지 않은 부분
- ❌ `relation "project_repositories" does not exist` - 테이블 생성 완료했으나 여전히 오류
- ❌ GitHub Actions 워크플로우 syntax error (`::` 구문 오류)

---

## 🎯 **즉시 해결 우선순위**
1. **최고관리자 대시보드 데이터 표시 문제 해결** ⚡
2. **PE 대시보드 자동 선택 문제 수정** ⚡  
3. **PostgreSQL connection pool 오류 해결** ⚡
4. **API 디버깅 및 데이터 흐름 검증** ⚡

---

## 🔧 **세부 구현 계획 (CI/CD 통합)**

### **Phase 2.1: GitHub 레포지토리 관리 강화**
- [ ] **EnhancedRepoManager.tsx** - 고도화된 레포지토리 관리 대시보드
- [ ] **CICDPipelineBuilder.tsx** - 레포별 CI/CD 파이프라인 자동 구성  
- [ ] **GitHubActionsStudio.tsx** - GitHub Actions 워크플로우 생성/편집
- [ ] **RepositoryAnalytics.tsx** - 레포 메트릭 기반 분석 대시보드
- [ ] **AutoDeploymentRules.tsx** - 브랜치별 자동 배포 규칙
- [ ] **WebhookManager.tsx** - Jenkins/Argo CD Webhook 자동 설정

### **Phase 2.2: DORA 메트릭 & 성과 분석**
- [ ] **DORAMetricsDashboard.tsx** - DORA 지표 시각화
- [ ] **CodeQualityAnalyzer.tsx** - 코드 품질 분석
- [ ] **TeamCollaborationInsights.tsx** - 팀 협업 인사이트  
- [ ] **CICDPerformanceTracker.tsx** - CI/CD 성능 추적
- [ ] **MetricsAggregator.tsx** - 메트릭 집계 및 분석

### **Phase 2.3: 백엔드 API & 스키마 확장**
- [ ] **enhanced_repo_metrics 테이블** - DORA 메트릭, 코드 품질, 협업 지표
- [ ] **cicd_pipeline_executions 테이블** - CI/CD 파이프라인 실행 기록
- [ ] **GitHub API 래퍼 클래스 강화** - 실시간 메타데이터 동기화
- [ ] **Webhook 이벤트 처리 시스템** - GitHub 이벤트 실시간 수신/처리

### **Phase 3.1: GitOps 자동화**
- [ ] **GitOpsRepositoryManager.tsx** - GitOps 레포지토리 통합 관리
- [ ] **EnvironmentPromotionPipeline.tsx** - 환경별 배포 파이프라인
- [ ] **ArgoCDApplicationBuilder.tsx** - Argo CD 애플리케이션 자동 구성
- [ ] **ECPAIGitOpsIntegrator.tsx** - ECP-AI + GitOps 통합기
- [ ] **DeploymentApprovalWorkflow.tsx** - GitHub PR 기반 배포 승인
- [ ] **MultiTenantGitOpsManager.tsx** - 멀티테넌트 GitOps 관리
